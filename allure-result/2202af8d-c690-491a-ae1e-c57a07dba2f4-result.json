{"name": "Много раз подряд нажать на кнопку поиска", "status": "broken", "statusDetails": {"message": "TypeError: a bytes-like object is required, not 'int'", "trace": "@allure.epic(\"Тестирование UI\")\n    @allure.feature(\"Негативные проверки\")\n    @allure.title(\"Много раз подряд нажать на кнопку поиска\")\n    @allure.description(\"В результате теста проверяется что при нажатии\\\n        несколько раз на кнопку поиска, новые товары не добавляются\\\n            и страница не изменяется\")\n    def test_negetive_some_click_on_button_search():\n        with allure.step(\"Создать объект класса MainsPage\"):\n            main_page = MainsPage()\n        with allure.step(\"Зайти на главную страницу\"):\n            main_page.go_to_main_page()\n        with allure.step(\"Ввести в поле ввода название книги\"):\n            name = \"апофения\"\n            main_page.send_keys_input(name)\n        with allure.step(\"Нажать на кнопку поиска\"):\n            main_page.push_button_search()\n        with allure.step(\"Получить сообщение о результате поиска ДО нескольких нажатий\"):\n            message_before = main_page.get_message_on_the_search_results()\n            allure.attach(message_before, \"Сообщение ДО нескольких нажатий\")\n        with allure.step(\"Получить число найденных карточек товаров на странице ДО\"):\n            len_item_before = len(main_page.get_product_carts())\n            allure.attach(str(len_item_before), \"Сообщение ДО нескольких нажатий\")\n        with allure.step(\"Получить список продуктов ДО нескольких нажатий\"):\n            products_list_before = main_page.get_list_of_products()\n            allure.attach(products_list_before,\n                          \"Список продуктов ДО нескольких нажатий\")\n        with allure.step(\"Проверить что введенное значение есть в сообщении о результатах поиска\"):\n            assert name in message_before\n        with allure.step(\"Нажать на кнопку поиска 10 раз подряд\"):\n            for push in range(11):\n                main_page.push_button_search()\n        with allure.step(\"Получить сообщение о результате поиска ПОСЛЕ нескольких нажатий\"):\n            message_after = main_page.get_message_on_the_search_results()\n            allure.attach(message_after, \"Сообщение ПОСЛЕ нескольких нажатий\")\n        with allure.step(\"Получить число найденных карточек товаров на странице ПОСЛЕ\"):\n            len_item_after = len(main_page.get_product_carts())\n>           allure.attach(len_item_after, \"Сообщение ПОСЛЕ нескольких нажатий\")\n\ntests\\test_ui.py:215: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n..\\..\\..\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\allure_commons\\_allure.py:200: in __call__\n    plugin_manager.hook.attach_data(body=body, name=name, attachment_type=attachment_type, extension=extension)\n..\\..\\..\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pluggy\\_hooks.py:513: in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n..\\..\\..\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pluggy\\_manager.py:120: in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n..\\..\\..\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\allure_pytest\\listener.py:252: in attach_data\n    self.allure_logger.attach_data(uuid4(), body, name=name, attachment_type=attachment_type, extension=extension)\n..\\..\\..\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\allure_commons\\reporter.py:165: in attach_data\n    plugin_manager.hook.report_attached_data(body=body, file_name=file_name)\n..\\..\\..\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pluggy\\_hooks.py:513: in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n..\\..\\..\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pluggy\\_manager.py:120: in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <allure_commons.logger.AllureFileLogger object at 0x000002375C813620>, body = 2\nfile_name = 'f68e9a3e-f428-4f99-a694-b57efa3c8aa2-attachment.attach'\n\n    @hookimpl\n    def report_attached_data(self, body, file_name):\n        destination = self._report_dir / file_name\n        with open(destination, 'wb') as attached_file:\n            if isinstance(body, str):\n                attached_file.write(body.encode('utf-8'))\n            else:\n>               attached_file.write(body)\nE               TypeError: a bytes-like object is required, not 'int'\n\n..\\..\\..\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\allure_commons\\logger.py:48: TypeError"}, "description": "В результате теста проверяется что при нажатии    несколько раз на кнопку поиска, новые товары не добавляются        и страница не изменяется", "steps": [{"name": "Создать объект класса MainsPage", "status": "passed", "start": 1738057240307, "stop": 1738057243529}, {"name": "Зайти на главную страницу", "status": "passed", "attachments": [{"name": "Используемый URL", "source": "a45bf495-a627-42d4-b24e-05fe95fa7208-attachment.attach"}], "start": 1738057243529, "stop": 1738057286687}, {"name": "Ввести в поле ввода название книги", "status": "passed", "steps": [{"name": "Очистить поле ввода", "status": "passed", "start": 1738057286687, "stop": 1738057286749}, {"name": "Ввести в поле ввода значение", "status": "passed", "attachments": [{"name": "Введенное значение", "source": "1ae63057-075a-498c-a9e7-48e95047fa0d-attachment.attach"}], "start": 1738057286749, "stop": 1738057286937}, {"name": "Подождать прогрузки необходимых элементов", "status": "passed", "start": 1738057286937, "stop": 1738057287733}], "start": 1738057286687, "stop": 1738057287734}, {"name": "Нажать на кнопку поиска", "status": "passed", "steps": [{"name": "Нажать на кнопку поиска", "status": "passed", "start": 1738057287734, "stop": 1738057287897}, {"name": "Подождать прогрузки необходимых элементов", "status": "passed", "start": 1738057287897, "stop": 1738057288663}], "start": 1738057287734, "stop": 1738057288663}, {"name": "Получить сообщение о результате поиска ДО нескольких нажатий", "status": "passed", "attachments": [{"name": "Сообщение ДО нескольких нажатий", "source": "b57b3827-4366-4fd6-be46-7fad61d158f5-attachment.attach"}], "start": 1738057288663, "stop": 1738057288697}, {"name": "Получить число найденных карточек товаров на странице ДО", "status": "passed", "attachments": [{"name": "Сообщение ДО нескольких нажатий", "source": "7eb48a33-fc79-4d4f-867a-532b81028cad-attachment.attach"}], "start": 1738057288697, "stop": 1738057288717}, {"name": "Получить список продуктов ДО нескольких нажатий", "status": "passed", "attachments": [{"name": "Список продуктов ДО нескольких нажатий", "source": "a487dd6a-cebf-427a-9b17-f27ad4647b8e-attachment.attach"}], "start": 1738057288718, "stop": 1738057288777}, {"name": "Проверить что введенное значение есть в сообщении о результатах поиска", "status": "passed", "start": 1738057288777, "stop": 1738057288777}, {"name": "Нажать на кнопку поиска 10 раз подряд", "status": "passed", "steps": [{"name": "Нажать на кнопку поиска", "status": "passed", "start": 1738057288777, "stop": 1738057288884}, {"name": "Подождать прогрузки необходимых элементов", "status": "passed", "start": 1738057288884, "stop": 1738057288914}, {"name": "Нажать на кнопку поиска", "status": "passed", "start": 1738057288914, "stop": 1738057289072}, {"name": "Подождать прогрузки необходимых элементов", "status": "passed", "start": 1738057289072, "stop": 1738057289098}, {"name": "Нажать на кнопку поиска", "status": "passed", "start": 1738057289098, "stop": 1738057289187}, {"name": "Подождать прогрузки необходимых элементов", "status": "passed", "start": 1738057289187, "stop": 1738057289212}, {"name": "Нажать на кнопку поиска", "status": "passed", "start": 1738057289212, "stop": 1738057289313}, {"name": "Подождать прогрузки необходимых элементов", "status": "passed", "start": 1738057289313, "stop": 1738057289338}, {"name": "Нажать на кнопку поиска", "status": "passed", "start": 1738057289338, "stop": 1738057289420}, {"name": "Подождать прогрузки необходимых элементов", "status": "passed", "start": 1738057289420, "stop": 1738057289461}, {"name": "Нажать на кнопку поиска", "status": "passed", "start": 1738057289461, "stop": 1738057289560}, {"name": "Подождать прогрузки необходимых элементов", "status": "passed", "start": 1738057289560, "stop": 1738057289585}, {"name": "Нажать на кнопку поиска", "status": "passed", "start": 1738057289585, "stop": 1738057289713}, {"name": "Подождать прогрузки необходимых элементов", "status": "passed", "start": 1738057289713, "stop": 1738057289754}, {"name": "Нажать на кнопку поиска", "status": "passed", "start": 1738057289754, "stop": 1738057289858}, {"name": "Подождать прогрузки необходимых элементов", "status": "passed", "start": 1738057289858, "stop": 1738057289885}, {"name": "Нажать на кнопку поиска", "status": "passed", "start": 1738057289885, "stop": 1738057290030}, {"name": "Подождать прогрузки необходимых элементов", "status": "passed", "start": 1738057290030, "stop": 1738057290069}, {"name": "Нажать на кнопку поиска", "status": "passed", "start": 1738057290069, "stop": 1738057290183}, {"name": "Подождать прогрузки необходимых элементов", "status": "passed", "start": 1738057290183, "stop": 1738057290220}, {"name": "Нажать на кнопку поиска", "status": "passed", "start": 1738057290220, "stop": 1738057290320}, {"name": "Подождать прогрузки необходимых элементов", "status": "passed", "start": 1738057290320, "stop": 1738057290343}], "start": 1738057288777, "stop": 1738057290343}, {"name": "Получить сообщение о результате поиска ПОСЛЕ нескольких нажатий", "status": "passed", "attachments": [{"name": "Сообщение ПОСЛЕ нескольких нажатий", "source": "13b4a080-7875-40e7-9d1f-721880cf3297-attachment.attach"}], "start": 1738057290343, "stop": 1738057290360}, {"name": "Получить число найденных карточек товаров на странице ПОСЛЕ", "status": "broken", "statusDetails": {"message": "TypeError: a bytes-like object is required, not 'int'\n", "trace": "  File \"c:\\Users\\DEXP\\Desktop\\Diploma work on automation\\Diploma-work-on-automation\\tests\\test_ui.py\", line 215, in test_negetive_some_click_on_button_search\n    allure.attach(len_item_after, \"Сообщение ПОСЛЕ нескольких нажатий\")\n    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\DEXP\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\allure_commons\\_allure.py\", line 200, in __call__\n    plugin_manager.hook.attach_data(body=body, name=name, attachment_type=attachment_type, extension=extension)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\DEXP\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pluggy\\_hooks.py\", line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\DEXP\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pluggy\\_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\DEXP\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pluggy\\_callers.py\", line 139, in _multicall\n    raise exception.with_traceback(exception.__traceback__)\n  File \"C:\\Users\\DEXP\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pluggy\\_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n  File \"C:\\Users\\DEXP\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\allure_pytest\\listener.py\", line 252, in attach_data\n    self.allure_logger.attach_data(uuid4(), body, name=name, attachment_type=attachment_type, extension=extension)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\DEXP\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\allure_commons\\reporter.py\", line 165, in attach_data\n    plugin_manager.hook.report_attached_data(body=body, file_name=file_name)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\DEXP\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pluggy\\_hooks.py\", line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\DEXP\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pluggy\\_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\DEXP\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pluggy\\_callers.py\", line 139, in _multicall\n    raise exception.with_traceback(exception.__traceback__)\n  File \"C:\\Users\\DEXP\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pluggy\\_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n  File \"C:\\Users\\DEXP\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\allure_commons\\logger.py\", line 48, in report_attached_data\n    attached_file.write(body)\n    ~~~~~~~~~~~~~~~~~~~^^^^^^\n"}, "attachments": [{"name": "Сообщение ПОСЛЕ нескольких нажатий", "source": "f68e9a3e-f428-4f99-a694-b57efa3c8aa2-attachment.attach"}], "start": 1738057290360, "stop": 1738057290370}], "start": 1738057240306, "stop": 1738057290376, "uuid": "87f4a7df-3883-4b3d-bce4-6b1a3436aa47", "historyId": "8b83fd62d8e11c0b8ada5ab22c84b016", "testCaseId": "8b83fd62d8e11c0b8ada5ab22c84b016", "fullName": "tests.test_ui#test_negetive_some_click_on_button_search", "labels": [{"name": "feature", "value": "Негативные проверки"}, {"name": "epic", "value": "Тестирование UI"}, {"name": "parentSuite", "value": "tests"}, {"name": "suite", "value": "test_ui"}, {"name": "host", "value": "DESKTOP-Q56RGJ9"}, {"name": "thread", "value": "10144-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.test_ui"}]}